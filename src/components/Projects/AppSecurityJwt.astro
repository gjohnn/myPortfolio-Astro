---
// src/components/Projects/AppSecurityJwt.astro
---

<article class="flex flex-col items-center p-5 justify-center w-full max-w-3xl mx-auto text-center">
    <!-- Spring Security Project Section -->
    <div class="border-4 border-yellow-500 rounded-xl p-8 flex flex-col items-center w-full mb-8 bg-gray-800/50 backdrop-blur-sm">
      <div class="flex flex-col items-center w-full md:flex-row md:justify-center gap-8">
        <div class="text-container w-full md:w-1/2">
          <p class="mb-4 text-gray-300">These are my projects about security configurations.</p>
  
          <h3 class="text-2xl font-bold mb-4 text-yellow-400">Spring Security Project</h3>
          <ul class="flex flex-wrap justify-center gap-2 mb-6">
            <li class="px-3 py-1 bg-gray-700 rounded-full text-gray-200">Java 21</li>
            <li class="px-3 py-1 bg-gray-700 rounded-full text-gray-200">Maven 4.0.0</li>
            <li class="px-3 py-1 bg-gray-700 rounded-full text-gray-200">Spring 3.4.2</li>
            <li class="px-3 py-1 bg-gray-700 rounded-full text-gray-200">PostgreSQL 17</li>
          </ul>
  
          <div class="space-y-4">
            <div>
              <h3 class="text-xl font-semibold mb-2 text-gray-300">Register Endpoint</h3>
              <h4 class="mb-2 text-gray-400 text-sm">POST /auth/register</h4>
              <div class="relative">
                <textarea 
                  id="jsonTextRegister" 
                  rows="6" 
                  readonly 
                  class="w-full p-3 rounded-lg bg-gray-900/80 text-gray-300 font-mono text-sm border border-gray-700 focus:outline-none"
                >           {`{"username":"user007",
                "password":"pass1234",
                "email":"user007@gmail.com"}`}</textarea>
                <button 
                  id="copyButtonRegister" 
                  class="absolute bottom-3 right-3 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm transition-colors"
                >
                  Copy
                </button>
              </div>
            </div>
  
            <div>
              <h3 class="text-xl font-semibold mb-2 text-gray-300">Login Endpoint</h3>
              <h4 class="mb-2 text-gray-400 text-sm">POST /auth/login</h4>
              <div class="relative">
                <textarea 
                  id="jsonTextLogin" 
                  rows="5" 
                  readonly 
                  class="w-full p-3 rounded-lg bg-gray-900/80 text-gray-300 font-mono text-sm border border-gray-700 focus:outline-none"
                >           {`{"username":"user007",
                "password":"pass1234"
                `}</textarea>
                <button 
                  id="copyButtonLogin" 
                  class="absolute bottom-3 right-3 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm transition-colors"
                >
                  Copy
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="flex flex-wrap justify-center items-center gap-4 my-6">
        <img src="/spring-48.png" alt="Spring Logo" width="48" height="48" class="h-12 w-auto" />
        <img src="/postgresql-48.png" alt="PostgreSQL Logo" width="48" height="48" class="h-12 w-auto" />
        <img src="/jwt-48.png" alt="JWT Logo" width="48" height="48" class="h-12 w-auto" />
      </div>
      
      <a 
        href="https://github.com/gjohnn/app-security-jwt.git" 
        target="_blank"
        rel="noopener noreferrer"
        class="bg-white hover:bg-gray-100 text-black font-medium px-6 py-3 rounded-lg border border-black transition-colors inline-block"
      >
        SPRING SECURITY REPOSITORY LINK
      </a>
    </div>
  
    <!-- Node.js Security Project Section -->
    <div class="border-4 border-yellow-500 rounded-xl p-8 flex flex-col items-center w-full bg-gray-800/50 backdrop-blur-sm">
      <div class="flex flex-col items-center w-full md:flex-row md:justify-center gap-8">
        <div class="text-container w-full md:w-1/2">
          <h3 class="text-2xl font-bold mb-4 text-yellow-400">Node.js Security Project</h3>
          <ul class="flex flex-wrap justify-center gap-2 mb-6">
            <li class="px-3 py-1 bg-gray-700 rounded-full text-gray-200">Node.js 22</li>
            <li class="px-3 py-1 bg-gray-700 rounded-full text-gray-200">Express</li>
            <li class="px-3 py-1 bg-gray-700 rounded-full text-gray-200">JWT Authentication</li>
          </ul>
        </div>
      </div>
      
      <div class="flex flex-wrap justify-center items-center gap-4 my-6">
        <img src="/nodejs-icon.svg" alt="Node.js Logo" width="48" height="48" class="h-12 w-auto" />
        <img src="/javascript-icon.svg" alt="JavaScript Logo" width="48" height="48" class="h-12 w-auto" />
        <img src="/jwt-48.png" alt="JWT Logo" width="48" height="48" class="h-12 w-auto" />
      </div>
      
      <a 
        href="https://github.com/gjohnn/app-security-node.git" 
        target="_blank"
        rel="noopener noreferrer"
        class="bg-white hover:bg-gray-100 text-black font-medium px-6 py-3 rounded-lg border border-black transition-colors inline-block"
      >
        NODE.JS SECURITY REPOSITORY LINK
      </a>
    </div>
  </article>
  
  <script is:inline>
    document.addEventListener("DOMContentLoaded", () => {
      const copyButtonRegister = document.getElementById("copyButtonRegister");
      const jsonTextRegister = document.getElementById("jsonTextRegister");
      const copyButtonLogin = document.getElementById("copyButtonLogin");
      const jsonTextLogin = document.getElementById("jsonTextLogin");
  
      function copyJson(textarea, button) {
        textarea.select();
        textarea.setSelectionRange(0, 99999);
        document.execCommand("copy");
        
        // Feedback visual
        const originalText = button.textContent;
        button.textContent = "Copied!";
        button.classList.add("bg-green-600");
        button.classList.remove("bg-blue-600", "hover:bg-blue-700");
        
        setTimeout(() => {
          button.textContent = originalText;
          button.classList.remove("bg-green-600");
          button.classList.add("bg-blue-600", "hover:bg-blue-700");
        }, 2000);
      }
  
      copyButtonRegister.addEventListener("click", () => {
        copyJson(jsonTextRegister, copyButtonRegister);
      });
  
      copyButtonLogin.addEventListener("click", () => {
        copyJson(jsonTextLogin, copyButtonLogin);
      });
    });
  </script>